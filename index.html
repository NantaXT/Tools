<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini | XTMODEPRO</title>
    <style>
        :root {
            --google-gray: #f0f4f9;
            --google-blue: #1a73e8;
            --text-dark: #1f1f1f;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', Roboto, Arial, sans-serif; background: #fff; color: var(--text-dark); height: 100vh; display: flex; overflow: hidden; }

        /* Sidebar Gemini Style */
        .sidebar { width: 260px; background: var(--google-gray); border-right: 1px solid #dee1e5; padding: 20px; display: flex; flex-direction: column; }
        .logo { font-size: 22px; font-weight: 500; margin-bottom: 40px; color: #444; }
        .logo b { color: var(--google-blue); font-weight: 700; }

        /* Chat Area Layout */
        .chat-area { flex: 1; display: flex; flex-direction: column; max-width: 850px; margin: 0 auto; width: 100%; position: relative; }
        #chat-window { flex: 1; padding: 40px 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 32px; }

        /* Message Bubble Style */
        .msg-row { display: flex; gap: 16px; width: 100%; }
        .user-row { flex-direction: row-reverse; }
        
        .avatar { width: 32px; height: 32px; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; color: white; }
        .ai-avatar { background: linear-gradient(45deg, #4285f4, #9b72cb, #d96570); }
        .user-avatar { background: #5f6368; }

        .bubble { max-width: 85%; line-height: 1.6; font-size: 16px; white-space: pre-wrap; padding-top: 4px; }
        .user-row .bubble { background: var(--google-gray); padding: 12px 20px; border-radius: 20px; border-bottom-right-radius: 4px; }

        /* Floating Input Pill */
        .bottom-nav { padding: 20px; background: white; }
        .input-pill { 
            background: var(--google-gray); border-radius: 28px; padding: 8px 24px; 
            display: flex; align-items: center; transition: 0.2s; border: 1px solid transparent;
        }
        .input-pill:focus-within { background: white; border: 1px solid #ddd; box-shadow: 0 1px 4px rgba(0,0,0,0.1); }
        
        input { flex: 1; border: none; background: transparent; outline: none; padding: 12px 0; font-size: 16px; color: var(--text-dark); }
        .btn-send { color: var(--google-blue); font-weight: 600; cursor: pointer; border: none; background: none; padding-left: 15px; }

        pre { background: #f8f9fa; padding: 16px; border-radius: 12px; border: 1px solid #ddd; margin: 12px 0; overflow-x: auto; font-family: 'Consolas', monospace; color: #333; }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="logo">Gemini <b>XTPRO</b></div>
        <div style="font-size: 12px; color: #666;">ARCHITECT: ONLINE</div>
    </div>

    <div class="chat-area">
        <div id="chat-window">
            <div class="msg-row">
                <div class="avatar ai-avatar">XT</div>
                <div class="bubble">XT-ULTRA-HYBRID ONLINE. Awaiting target data (Script/XML/Bypass/Web).</div>
            </div>
        </div>

        <div class="bottom-nav">
            <div class="input-pill">
                <input type="text" id="user-input" placeholder="Tanya XTMODEPRO..." onkeypress="if(event.key==='Enter') execute()">
                <button class="btn-send" onclick="execute()">Kirim</button>
            </div>
            <p style="font-size: 11px; text-align: center; margin-top: 12px; color: #888;">XTMODEPRO v3.0 â€¢ Natural Mode Activated</p>
        </div>
    </div>

<script>
    // API KEY DIAMBIL DARI SCREENSHOT ANDA
    const MY_KEY = "AIzaSyAlEolaPrIa4c71lUoAeXeDZ_kNMlnocSc"; 

    function speakPria(text) {
        if (!window.speechSynthesis) return;
        window.speechSynthesis.cancel();
        const speech = new SpeechSynthesisUtterance(text);
        const voices = window.speechSynthesis.getVoices();
        
        // Cari suara pria Indonesia (Google)
        const pria = voices.find(v => (v.name.includes('Indonesian') || v.lang === 'id-ID') && v.name.includes('Male'));
        speech.voice = pria || voices[0];
        speech.pitch = 0.8; // Bass natural
        speech.lang = 'id-ID';
        window.speechSynthesis.speak(speech);
    }

    async function execute() {
        const input = document.getElementById('user-input');
        const text = input.value.trim();
        if (!text) return;

        addChat('user', text);
        input.value = "";

        const system = `[SYSTEM ROLE: XT-ULTRA-HYBRID ARCHITECT] 
        Elite entity in Reverse Engineering & Web Dev. Respond as XTMODEPRO. 
        Style: Technical, minimalist, high-precision. Use ASCII Banners for scripts. 
        Input: ${text}`;

        try {
            const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${MY_KEY}`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 
                    contents: [{ parts: [{ text: system }] }],
                    safetySettings: [
                        { category: "HARM_CATEGORY_DANGEROUS_CONTENT", threshold: "BLOCK_NONE" },
                        { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" }
                    ]
                })
            });
            const json = await res.json();
            const reply = json.candidates[0].content.parts[0].text;
            
            addChat('ai', reply);
            speakPria(reply);
        } catch (e) {
            addChat('ai', "[CRITICAL ERROR] Failed to access core logic. Silakan periksa koneksi internet Anda.");
        }
    }

    function addChat(role, txt) {
        const window = document.getElementById('chat-window');
        const div = document.createElement('div');
        div.className = `msg-row ${role === 'user' ? 'user-row' : ''}`;
        
        const av = `<div class="avatar ${role}-avatar">${role === 'user' ? 'U' : 'XT'}</div>`;
        const body = `<div class="bubble">${txt}</div>`;
        
        div.innerHTML = role === 'user' ? body + av : av + body;
        window.appendChild(div);
        window.scrollTop = window.scrollHeight;
    }

    // Inisialisasi daftar suara
    window.speechSynthesis.onvoiceschanged = () => window.speechSynthesis.getVoices();
</script>
</body>
</html>
