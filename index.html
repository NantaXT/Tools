<!DOCTYPE html>
<html>
<head>
    <title>TGMODS VIP CLOUD</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/gramjs/dist/gramjs.min.js"></script>
    <style>
        body { background: #0e1621; color: white; font-family: sans-serif; padding: 20px; }
        .card { background: #17212b; padding: 20px; border-radius: 12px; border: 1px solid #31a2f2; max-width: 450px; margin: auto; }
        input, textarea { width: 100%; padding: 12px; margin: 10px 0; background: #242f3d; color: white; border: 1px solid #333; border-radius: 8px; box-sizing: border-box; }
        button { background: #31a2f2; color: white; border: none; padding: 14px; width: 100%; font-weight: bold; border-radius: 8px; cursor: pointer; }
        .spam-box { display: none; margin-top: 20px; border-top: 1px solid #31a2f2; padding-top: 20px; }
        #status { text-align: center; color: #f1c40f; margin: 10px 0; }
    </style>
</head>
<body>
    <div id="login-ui" class="card">
        <h2>üî• TGMODS VIP</h2>
        <input type="text" id="api_id" placeholder="API ID" value="36645054">
        <input type="text" id="api_hash" placeholder="API HASH" value="7ef85cb845a54c1e842cc67b4f127da9">
        <input type="text" id="phone" placeholder="+628xxx" value="+6287719761698">
        <button id="btn-otp" onclick="kirimOTP()">KIRIM KODE OTP</button>
        <div id="otp-area" style="display:none">
            <input type="text" id="otp" placeholder="Masukkan Kode">
            <button onclick="masuk()">LOGIN SEKARANG</button>
        </div>
        <div id="status">Siap digunakan tanpa Termux.</div>
    </div>

    <div id="main-ui" class="card" style="display:none">
        <h2>üõ†Ô∏è PANEL SPAM</h2>
        <input type="text" id="target" placeholder="Username Target (contoh: @nantaxt)">
        <textarea id="pesan" placeholder="Isi pesan spam..."></textarea>
        <input type="number" id="jumlah" placeholder="Jumlah (contoh: 50)">
        <button onclick="mulaiSpam()">GAS SPAM!</button>
        <div id="spam-status" style="margin-top:10px; color:#2ecc71"></div>
    </div>

    <script>
        let client;
        let pHash;
        const { TelegramClient } = window.gramjs;
        const { StringSession } = window.gramjs.sessions;

        async function kirimOTP() {
            const apiId = parseInt(document.getElementById('api_id').value);
            const apiHash = document.getElementById('api_hash').value;
            const phone = document.getElementById('phone').value;
            try {
                document.getElementById('status').innerText = "Menghubungkan...";
                client = new TelegramClient(new StringSession(""), apiId, apiHash, { connectionRetries: 5 });
                await client.connect();
                const res = await client.sendCode({ apiId, apiHash }, phone);
                pHash = res.phoneCodeHash;
                document.getElementById('otp-area').style.display = 'block';
                document.getElementById('btn-otp').style.display = 'none';
                document.getElementById('status').innerText = "Cek Kode di Telegram!";
            } catch (e) { alert("Gagal: " + e.message); }
        }

        async function masuk() {
            const code = document.getElementById('otp').value;
            const phone = document.getElementById('phone').value;
            const apiId = parseInt(document.getElementById('api_id').value);
            const apiHash = document.getElementById('api_hash').value;
            try {
                await client.signInUser({ apiId, apiHash }, { phoneNumber: phone, phoneCodeHash: pHash, phoneCode: code });
                document.getElementById('login-ui').style.display = 'none';
                document.getElementById('main-ui').style.display = 'block';
            } catch (e) { alert("Gagal Login: " + e.message); }
        }

        async function mulaiSpam() {
            const target = document.getElementById('target').value;
            const pesan = document.getElementById('pesan').value;
            const jumlah = parseInt(document.getElementById('jumlah').value);
            const log = document.getElementById('spam-status');

            for (let i = 1; i <= jumlah; i++) {
                try {
                    await client.sendMessage(target, { message: pesan });
                    log.innerText = `Mengirim: ${i}/${jumlah}`;
                } catch (e) { log.innerText = "Error: " + e.message; break; }
            }
            log.innerText = "‚úÖ SPAM SELESAI!";
        }
    </script>
</body>
</html>
